<!DOCTYPE html>
<html lang="en">
  <head>
    <title>your page title goes here</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <script>

      // 1. exercise

      function sum(number) {
        return String(number).split('').map(function (numString) {
          return parseInt(numString, 10);
        }).reduce(function (total, num) {
          return total + num;
        });
      }

      // 2. exercise

      function multiplyAllPairs(array1, array2) {
        var result = [];

        array1.forEach(function (number1) {
          array2.forEach(function (number2) {
            result.push(number1 * number2);
          });
        });

        return result.sort(function (a, b) {
          return a - b;
        });
      }

      // 3. exercise

      function sumOfSums(arr) {
        var array = arr.reverse();
        var result = 0;

        array.forEach(function(element, index) {
          result += array.slice(index).reduce(function (a, b) {
            return a + b;
          });
        });

        return result;
      }

      // 4. exercise

      function substringsAtStart(string) {
        return string.split('').map(function(char, index) {
          return string.slice(0, index + 1);
        });
      }

      // 5. exercise

      function substrings(string) {
        return string.split('').map(function(char, index) {
          var substring = string.slice(index, string.length);
          return substringsAtStart(substring);
        });
      }

      // 6. exercise

      function palindromes(string) {
        var arrayOfSubstrings = flatten(substrings(string));

         return arrayOfSubstrings.filter(function(substring) {
            return isPalindrom(substring) && substring.length > 1;
        });
      }


      function isPalindrom(string) {
        return !!(string === string.split('').reverse().join(''));
      }

      function flatten(array) {
        var result = [];

        var i;

        for (i = 0; i < array.length; i += 1) {
          for (y = 0; y < array[i].length; y += 1) {
            result.push(array[i][y]);
          }
        }

        return result;
      }

      // 7. exercise

      function buyFruit(fruitsList) {
        return fruitsList.map(function (fruit) {
          return repeat(fruit);
        }).reduce(function (groceryList, fruit) {
          return groceryList.concat(fruit);
        });
      }

      function repeat(fruit) {
        var result = [];
        var i;

        for (i = 0; i < fruit[1]; i += 1) {
          result.push(fruit[0]);
        }

        return result;
      }

      // 8. exercise

      function transactionsFor(number, array) {
        return array.filter(function (object) {
          return object.id === number;
        })
      }

      var transactions = [ { id: 101, movement: 'in',  quantity:  5 },
                     { id: 105, movement: 'in',  quantity: 10 },
                     { id: 102, movement: 'out', quantity: 17 },
                     { id: 101, movement: 'in',  quantity: 12 },
                     { id: 103, movement: 'out', quantity: 15 },
                     { id: 102, movement: 'out', quantity: 15 },
                     { id: 105, movement: 'in',  quantity: 25 },
                     { id: 101, movement: 'out', quantity: 18 },
                     { id: 102, movement: 'in',  quantity: 22 },
                     { id: 103, movement: 'out', quantity: 15 }, ];

      // 9. exercise

      function isItemAvailable(number, array) {
        var item = transactionsFor(number, array);
        var quantity = 0;

        item.forEach(function(object) {
          if (object.movement === 'out') {
            quantity -= object.quantity;
          } else {
            quantity += object.quantity;
          }
        });

        return (quantity > 0);
      }

    </script>
  </body>
</html>